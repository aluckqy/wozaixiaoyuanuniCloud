(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/basics/location"],{1961:function(t,o,e){"use strict";(function(t){e("707c");n(e("66fd"));var o=n(e("de65"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(o.default)}).call(this,e("543d")["createPage"])},"1a4a":function(t,o,e){"use strict";e.r(o);var n=e("e082"),a=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(o,t,(function(){return n[t]}))}(i);o["default"]=a.a},cbad:function(t,o,e){"use strict";var n;e.d(o,"b",(function(){return a})),e.d(o,"c",(function(){return i})),e.d(o,"a",(function(){return n}));var a=function(){var t=this,o=t.$createElement;t._self._c},i=[]},de65:function(t,o,e){"use strict";e.r(o);var n=e("cbad"),a=e("1a4a");for(var i in a)"default"!==i&&function(t){e.d(o,t,(function(){return a[t]}))}(i);var c,s=e("f0c5"),d=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);o["default"]=d.exports},e082:function(t,o,e){"use strict";(function(t,n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=e("e6b0"),i={data:function(){return{region:["陕西省","汉中市","汉台区"],keyword:"",sub_pois:[],jwsession:"",telephone:"",codemsg:"",set_poi:{id:"1425572302013137833",title:"陕西理工大学(南校区)",address:"陕西省汉中市汉台区东一环路1号",category:"教育学校:大学",type:0,location:{lat:33.068869,lng:107.052969},adcode:610702,province:"陕西省",city:"汉中市",district:"汉台区"},radio:-1,modalName:!1,itemcode:!1,newlocation:{latitude:"",longitude:"",country:"",city:"",district:"",province:"",township:"",street:"",myArea:"",areacode:"",towncode:"",citycode:""},locationKey:""}},methods:{RegionChange:function(t){this.region=t.detail.value},hideModal:function(){this.modalName=!1},itemModal:function(){this.itemcode=!1},RadioTap:function(t){this.set_poi=this.sub_pois[t],this.radio=t,this.itemcode=!0,console.log(this.set_poi)},geocoderLocation:function(){var t=this;a.http.get("https://apis.map.qq.com/ws/geocoder/v1",{params:{key:this.locationKey,smart_address:this.set_poi.address,added_fields:"town,town_code"}}).then((function(o){if(console.log(o),0==o.data.status){var e={latitude:t.set_poi.location.lat,longitude:t.set_poi.location.lng,country:"中国",city:t.set_poi.city,district:t.set_poi.district,province:t.set_poi.province,township:o.data.result.town,street:o.data.result.address_components.street,myArea:"汉中市",areacode:o.data.result.ad_info.adcode,towncode:o.data.result.town_code,citycode:""};t.newlocation=e,t.pushLocation()}else t.modalName=!0,t.codemsg=o.data.message})).catch((function(o){console.log(o),t.modalName=!0,t.codemsg="出错了，再试一次吧！"}))},pushLocation:function(){var o=this;t.callFunction({name:"pushLocation",data:{telephone:this.telephone,set_poi:this.set_poi,location:this.newlocation}}).then((function(t){console.log(t),o.modalName=!0,o.codemsg="提交成功！";try{n.setStorageSync("newlocation",o.newlocation)}catch(e){console.log(e)}})).catch((function(t){console.log(res),o.modalName=!0,o.codemsg="网络错误，再试一次吧！"}))},suggestion:function(){var t=this;a.http.get("https://apis.map.qq.com/ws/place/v1/suggestion",{params:{keyword:this.keyword,region:this.region[2],key:this.locationKey}}).then((function(o){0==o.data.status?(t.sub_pois=o.data.data,t.radio=-1):(t.modalName=!0,t.codemsg="网络错误，再试一次吧！")})).catch((function(o){t.modalName=!0,t.codemsg="出错了，再试一次吧！"}))}},created:function(){try{var t=n.getStorageSync("telephone"),o=n.getStorageSync("newlocation"),e=n.getStorageSync("locationKey"),a=n.getStorageSync("jwsession");o&&(console.log(o),this.newlocation=o),t&&(console.log(t),this.telephone=t),e&&(console.log(e),this.locationKey=e),a&&(console.log(a),this.jwsession=a)}catch(i){console.log(i)}}};o.default=i}).call(this,e("a9ff")["default"],e("543d")["default"])}},[["1961","common/runtime","common/vendor"]]]);